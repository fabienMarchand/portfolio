"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[4718],{64718:(e,t,n)=>{n.d(t,{Z:()=>X});var o=n(56932),i=n(72321),a=n(7782),s=n(2784),l=n(40698),r=n(19348),c=n(90581),d=n(41900),_=n(13601),m=n(64176);const p={contentRow__header:"contentRow__header___XOjjv","contentRow__header--166":"contentRow__header--166___lpGjt","contentRow__header--dark":"contentRow__header--dark___ZPJPp",contentRow__carouselContainer:"contentRow__carouselContainer___dqyTW",contentRow__carouselMobile:"contentRow__carouselMobile___oi7ix",contentRow__carouselDesktop:"contentRow__carouselDesktop___LVdD9",contentRow__fullWidth:"contentRow__fullWidth___fSrgu",contentRow__headlineWrapper:"contentRow__headlineWrapper___gNSGE",contentRow__item:"contentRow__item___dcbBg","contentRow__item--immersive":"contentRow__item--immersive___sl9kO","contentRow__item--carousel":"contentRow__item--carousel___g5Zv0",contentRow__innerItem:"contentRow__innerItem___mU7c_","contentRow__item--logoTyped":"contentRow__item--logoTyped___h88dD","contentRow__item--detailV5":"contentRow__item--detailV5___Nuw6N",contentRow__logoArticle:"contentRow__logoArticle___VRQF7","contentRow__innerItem--headline":"contentRow__innerItem--headline___Zkv2e",contentRow__cardWrapper:"contentRow__cardWrapper___TU1pW","contentRow__headlineWrapper--dark":"contentRow__headlineWrapper--dark___doKUh",contentRow__headlineContainer:"contentRow__headlineContainer___yctuz",contentRow__liveRowSingleChannelWrapper:"contentRow__liveRowSingleChannelWrapper___nzVgp",contentRow__title:"contentRow__title___HgGT9","contentRow__title--dark":"contentRow__title--dark___I9IMD",contentRow__subtitle:"contentRow__subtitle___JZxcg","contentRow__subtitle--dark":"contentRow__subtitle--dark___BAJ7j",contentRow__summary:"contentRow__summary___EDcay",contentRow__downloadManager:"contentRow__downloadManager___QoXQE",contentRow__progressBarPositioner:"contentRow__progressBarPositioner___QmMSU",contentRow__itemLink:"contentRow__itemLink___eVg4N",contentRow__informationButtonIcon:"contentRow__informationButtonIcon___ozEVt",contentRow__informationButton:"contentRow__informationButton___SzzFT"};var u=n(38913),v=n(42417),h=n(7896),w=n(56666),R=n(72779),g=n.n(R),D=n(34434),C=n(98394),I=n(75845),y=n(65597);const k="headline";var E=n(68178),f=n(22977),A=n(25265),L=n(11621),T=n(18457),M=n(87276),O=n(84993),b=n(20337),S=n(69287),U=n(6875),N=n(12677),Z=n(55977),F=n(72426),P=n(48885);const x=(0,n(15293).Z)(P.Z);var V;const W=e=>{let{title:t,titleId:n,...o}=e;return s.createElement("svg",(0,h.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 10","aria-labelledby":n},o),t?s.createElement("title",{id:n},t):null,V||(V=s.createElement("path",{d:"M0 0v2h12V0H0zm0 6h12V4H0v2zm0 4h8V8H0v2z"})))},B=function(){return s.createElement("div",{className:"logoArticle___lmr0A"},s.createElement(W,{className:"logoArticle__icon___Xwy9x"}))};var z,H;class $ extends s.PureComponent{constructor(e){super(e),(0,w.Z)(this,"updateLiveContentIntervalId",void 0),(0,w.Z)(this,"renderItem",(()=>{var e,t,n,o;const l=(0,O.b)(),{contentsDisplayMode:r,d2gHandler:c,dark:_,displayNBOLogo:m,extendOfferUrl:u,id:v,imageSize:w=i.fF,isAssociatedContents:R,isC2C:E,isFocused:A,isInOfferInAssociatedContent:L,isRemovableItem:b,isTvDevice:V,launchPlayerOnClick:W,listType:$,onClickRemove:G,ratio:K,strateMode:Q,titleDisplayMode:j,token:J}=this.props,{isLive:X,newContent:q,formattedContent:Y,isDescriptionVisible:ee}=this.state,{contentID:te,altImage:ne,altLogoChannel:oe,description:ie,contentAvailability:ae,endTime:se,imageSpecificities:le,isInOffer:re=!0,isLogoTyped:ce=!1,lastDays:de,onClick:_e,path:me,startTime:pe,subtitle:ue,summary:ve,title:he,type:we,downloadDate:Re,URLImage:ge,URLImageForDarkMode:De=ge,URLImageForLightMode:Ce=ge,URLLogoChannel:Ie,userProgress:ye}=q||{},{displayName:ke}=_e||{},Ee=j!==a.TitleDisplayModes.NONE,fe=Ee?he:"",Ae=Ee&&j!==a.TitleDisplayModes.TITLE_ONLY?ue:"",Le=ee?ie:"",Te={default:_?De:Ce},Me={default:Ie},Oe=pe?{startTime:pe,endTime:se}:void 0,be=we===l.TEMPLATE.CREATIVE_MEDIA,Se=R&&!L||m&&Q!==T.UA&&!re,Ue={disabled:!L&&R||!(null!=Y&&null!==(e=Y.onClick)&&void 0!==e&&e.URLPage),opacityOnPoster:!L&&R},Ne=r===k,Ze=i.NO[K][w],Fe=(null==ae||null===(t=ae.availabilities)||void 0===t||null===(n=t.download)||void 0===n?void 0:n.availabilityEndDate)||0,Pe={ariaLabel:he,dark:_,description:Le,disabledStyle:Ue,displayName:ke,id:v,image:Te,imageSize:w,imageSpecificities:le,isArticle:be,isLogoTyped:ce,isAssociatedContents:R,launchPlayerOnClick:W,logoChannel:Me,onGoing:Oe,ratio:K,showSubscribeLabel:Se,subtitle:Ae,title:fe,titleDisplayMode:j,userProgress:ye,altImage:ne,altLogoChannel:oe,isInOffer:re,dimensions:Ze},xe=(0,d.Pp)(v);if(Object.keys(q).length){var Ve,We;if(K===M.Ik&&!ee&&!V)return s.createElement(s.Fragment,null,X&&re&&(z||(z=s.createElement(C.Z,{key:"liveicon"}))),be&&s.createElement("div",{className:p.contentRow__logoArticle},H||(H=s.createElement(B,null))),s.createElement(F.Z,{image:Te,onClickData:q,title:fe,displayName:ke,dimensions:Ze},(null==Me?void 0:Me.default)&&s.createElement(N.Z,{key:"logochannel",logo:Me,altImage:oe,isTvDevice:V}),Se&&s.createElement(Z.Z,{extendOfferUrl:u})),X&&re&&s.createElement("div",{className:p.contentRow__progressBarPositioner},o||(o=s.createElement(I.Z,{startTime:pe,endTime:se}))));if(W&&!Se)return s.createElement(U.c,(0,h.Z)({},Pe,{contentID:q.contentID,id:xe}));const e=Q===T.UA?s.createElement(y.Z,{context:null==q||null===(Ve=q.onClick)||void 0===Ve?void 0:Ve.trackingContext,content:q,title:null==q?void 0:q.title}):null,t=s.createRef(),n=e=>{e.stopPropagation();const n={idItem:te,title:Ae,downloadDate:Re,contentPathname:me,availabilityEndDate:Fe};null==c||c.informationButtonHandler(e,t,n)},i=s.createElement(S.Z,{buttonRef:t,ariaLabel:"information",className:p.contentRow__informationButton,color:f.E.DEFAULT,handler:n,icon:s.createElement(D.Z,{className:p.contentRow__informationButtonIcon})}),r=s.createElement(U.Z,(0,h.Z)({},Pe,{action:c?i:e,cardType:Q,contentID:q.contentID,isAssociatedContents:R,isFocused:A,isRemovableItem:b,lastDays:de,listType:$,onClickRemove:G,token:J}));if(c)return r;if(Q===T.UA){const e=Ne&&!V?s.createElement("div",{className:p.contentRow__liveRowSingleChannelWrapper},s.createElement("div",{className:p.contentRow__cardWrapper},r),s.createElement("div",{className:g()(p.contentRow__headlineWrapper,{[p["contentRow__headlineWrapper--dark"]]:_})},s.createElement("div",{className:p.contentRow__headlineContainer},s.createElement("h2",{className:g()(p.contentRow__title,{[p["contentRow__title--dark"]]:_})},fe),s.createElement("h3",{className:g()(p.contentRow__subtitle,{[p["contentRow__subtitle--dark"]]:_})},Ae),s.createElement("p",{className:p.contentRow__summary},ve)))):r;return s.createElement(P.Z,{className:p.contentRow__itemLink,data:q,title:fe,"aria-label":fe,objKey:"liveTV",id:xe,tabIndex:V?-1:0},e)}return Y.type===l.TEMPLATE.DOWNLOAD_MANAGER?s.createElement(x,{data:Y,title:fe,"aria-label":fe,className:p.contentRow__downloadManager,id:xe,tabIndex:V?-1:0},r):null!=Y&&null!==(We=Y.onClick)&&void 0!==We&&We.URLPage?s.createElement(P.Z,{className:p.contentRow__itemLink,data:Y,title:fe,"aria-label":fe,id:xe,tabIndex:V?-1:0,forceDisableReplace:E&&(null==Y||null===(Be=Y.onClick)||void 0===Be?void 0:Be.displayTemplate)===a.Template.ContentGrid},r):s.createElement(s.Fragment,null,r);var Be}return s.createElement(U.Z,Pe)}));const{content:t,strateMode:n,titleDisplayMode:o}=e,l=n===T.UA&&t?(0,b.eo)(t):{...this.props.content},r={...l,onClick:{...l.onClick,type:l.type}},{startTime:c,endTime:_}=l,m=c?{startTime:c,endTime:_}:void 0,u=!!l.startTime&&(0,A.fr)(m),v=o===a.TitleDisplayModes.DESCRIPTION;this.state={newContent:l,isLive:u,formattedContent:r,isDescriptionVisible:v}}componentDidMount(){this.updateLiveContentIntervalId=setInterval((()=>{this.updateLiveContent()}),L.iP)}static getDerivedStateFromProps(e,t){return e.content&&e.content!==t.newContent&&e.strateMode===E.AH.PERSO&&t.newContent?{newContent:e.content,formattedContent:e.content}:null}componentWillUnmount(){clearInterval(this.updateLiveContentIntervalId)}updateLiveContent(){const{content:e,strateMode:t}=this.props,n=t===T.UA&&e?(0,b.eo)(e):e,{startTime:o,endTime:i}=n,a=o?{startTime:o,endTime:i}:void 0,s=(0,A.fr)(a);this.setState({isLive:s,newContent:n})}render(){const{blackListedChannels:e,contentsDisplayMode:t,id:n,imageSize:o,isFromImmersive:i,isFromDetailV5:l,ratio:r,strateMode:c,titleDisplayMode:d}=this.props,_=this.props.content&&this.props.content.title,m=t===k,{newContent:u,isDescriptionVisible:v}=this.state,w=g()(p.contentRow__item,{[p["contentRow__item--carousel"]]:r===M.Ik&&!v,[p["contentRow__item--immersive"]]:i,[p["contentRow__item--logoTyped"]]:d===a.TitleDisplayModes.LOGO_TYPED,[p["contentRow__item--detailV5"]]:l},0===Object.keys(u).length&&"tv_unfocusable");if(this.props.strateMode===T.UA&&e&&e.includes(u.epgID))return null;const R={className:m?p.contentRow__fullWidth:w,key:u&&`slide-${u.contentID}`,"data-ratio":`${r}${o}`,id:n};return c===T.UA&&(R.id=n),s.createElement("li",(0,h.Z)({"data-e2e":_},R),s.createElement("div",{className:g()(p.contentRow__innerItem,"contentRow")},this.renderItem()))}}(0,w.Z)($,"defaultProps",{blackListedChannels:[],content:null,contentsDisplayMode:"",d2gHandler:void 0,dark:!1,displayNBOLogo:!1,extendOfferUrl:"",idItem:"",imageSpecificities:"",imageSize:i.fF,isAssociatedContents:!1,isC2C:!1,isFocused:!1,isFromDetailV5:!1,isFromImmersive:!1,isFromLanding:!1,isFromShowcase:!1,isInOfferInAssociatedContent:!1,isRemovableItem:!1,isTvDevice:!1,itemId:"",launchPlayerOnClick:!1,listType:"",onClickRemove:void 0,strateMode:"normal",titleDisplayMode:a.TitleDisplayModes.ALL,token:""});const G=$,K=(0,l.$j)(((e,t)=>({...t,blackListedChannels:(0,m.WX)(e),extendOfferUrl:(0,m.s_)(e),isFromImmersive:(0,v.um)(e)&&!t.isFromLanding,isTvDevice:(0,u.K3)(e),dark:(0,m.ii)()})))(G);var Q,j=n(67918);function J(e){let{containerId:t,contents:n,d2gHandler:u,dark:v=!1,displayParameters:{contentsDisplayMode:h="",displayNBOLogo:w=!1,imageRatio:R=o.T_.Ratio169,imageSize:g=i.fF,titleDisplayMode:D=a.TitleDisplayModes.ALL}={},fetchNextContents:C,hasMoreStrate:I=!1,header:y,isAssociatedContents:k=!1,isC2C:E=!1,isFromDetailV5:f=!1,isFromLanding:A=!1,isFromShowcase:L=!1,isImmersive:T,isRemovableItem:M,isTvDevice:O=!1,itemOffset:b,launchPlayerOnClick:S,skipToStrateId:U,listType:N,onClickRemove:Z,strateMode:F="normal",token:P="",onFocusable:x}=e;const{t:V}=_.Z.useTranslation(),W=(0,l.v9)(m.ri),B=(0,o.wQ)(R)?R:o.T_.Ratio169,z=!O&&Boolean(null==n?void 0:n.length);(0,s.useEffect)((()=>{x&&null!=n&&n.length&&x()}),[x,n]);const H=(0,s.useMemo)((()=>{const e=[...Array(10)];return null!=n&&n.length?n:e}),[n]),$=(0,s.useMemo)((()=>({next:V("HorizontalPaging.next"),previous:V("HorizontalPaging.previous")})),[V]),G=(0,s.useMemo)((()=>({heading:k?null:p.heading,templateHeader__link:p.templateHeader__link})),[k]),J=(0,s.useMemo)((()=>H.map(((e,n)=>{var o,i;const a=`${(0,d.xz)(t)}-${n}`;return s.createElement(K,{content:e,contentsDisplayMode:h,d2gHandler:u,dark:v||L,displayNBOLogo:w,id:a,idItem:null==e?void 0:e.contentID,imageSize:g,isAssociatedContents:k,isC2C:E,isFromLanding:A,isFromDetailV5:f,isFromShowcase:L,isInOfferInAssociatedContent:null===(o=null==e||null===(i=e.contentAvailability)||void 0===i?void 0:i.isInOffer)||void 0===o||o,isRemovableItem:M,key:(null==e?void 0:e.reactKey)||`${a}-placeholder`,launchPlayerOnClick:S,listType:N,onClickRemove:Z,ratio:B,strateMode:F,titleDisplayMode:D,token:P})}))),[t,h,H,u,v,w,g,k,E,f,A,L,M,S,N,Z,B,F,D,P]);return s.createElement(s.Fragment,null,I&&!O?s.createElement(r.Z,{href:U,text:c.s5}):Q||(Q=s.createElement(r.Z,{text:c.z9})),s.createElement(j.Z,{dark:v,defaultItemOffset:b,getNextContent:C,header:y,imageSize:g,isFeatIgnoreContentRowCarousel:W,isFromDetailV5:f,isFromImmersive:T,isFromShowcase:L,isTvDevice:O,scrollDuration:O?0:200,labels:$,ratio:B,showControls:z,theme:G,titleDisplayMode:D},J))}const X=s.memo(J)},67918:(e,t,n)=>{n.d(t,{Z:()=>o});const o=(0,n(23615).ZP)({resolved:{},chunkName:()=>"ContentRow",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(1930),n.e(5457)]).then(n.bind(n,88173)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve:()=>88173})},15293:(e,t,n)=>{n.d(t,{Z:()=>N});var o=n(40698),i=n(18717),a=n(64176),s=n(97414),l=n(42692),r=n(33991),c=n(87599),d=n(5255),_=n(15297),m=n(91534),p=n(42757),u=n(32377),v=n(68987),h=n(7896),w=n(56666),R=n(14999),g=n(2784),D=n(83918),C=n(31337),I=n(59789),y=n(10609),k=n(45685),E=n(84993),f=n(86158),A=n(39883),L=n(44492),T=n(85108),M=n(57310),O=n(11517),b=n(39490);const S={checkActivationStatusService:_.i,closeModal:u.Mr,launchExternalServiceAction:p.hn,openModal:u.h7,setDisplayMode:v.UC,updateDownloadContentUrl:m.x6},U=(0,o.$j)((e=>({abTestingPopulation:(0,d.hM)(e),downloadContentUrl:(0,l.C2)(e),downloadMacOsAppUrl:(0,a.oT)(e),downloadToGoAppUrl:(0,l.Mc)(e),downloadURLMedias:s.EB(e),externalServiceActivationStatus:s.M7(e),isKids:(0,d.Bg)(e),isFeatExternalServices:(0,a.eK)(e),isFeatMacOsAppAvailable:(0,a.M5)(e),microEligibility:(0,d.JU)(e),offerLocation:(0,a.ts)(e),pageURL:(0,r.MY)(e),passToken:(0,d.Ns)(e),segType:(0,d.HJ)(e),subscriberId:(0,d.JP)(e),tracking:(0,l.Hn)(e),trackingContext:(0,c.kb)(e),version:(0,a.bK)(e)})),S),N=(0,i.qC)(U,(e=>{var t;return t=class extends g.Component{constructor(e){super(e),(0,w.Z)(this,"handleExternalService",(async(e,t)=>{const{checkActivationStatusService:n,externalServiceActivationStatus:o,launchExternalServiceAction:i,openModal:a,setDisplayMode:s}=this.props,l=t?{closeAction:()=>t(I.Q.EXTERNAL_SERVICE_DOWNLOAD_MODAL)}:void 0;o?(s(R.d.MODAL),a(I.Q.EXTERNAL_SERVICE_DOWNLOAD_MODAL,l),i(e,!0)):await n()?i(e,!0):(s(R.d.MODAL),a(I.Q.EXTERNAL_SERVICE_DOWNLOAD_MODAL,l))})),(0,w.Z)(this,"onClick",(async e=>{let{contentID:t,consumptionPlatform:n,isTVoD:o,isUnitaryContent:i,closeModalAction:a}=e;const{abTestingPopulation:s,downloadURLMedias:l,episodes:r,isFeatExternalServices:c,isKids:d,offerLocation:_,pageURL:m,segType:p,tracking:u,trackingContext:v,version:h}=this.props;if(c&&n===D.t){const e=i?l:(0,f.VJ)(null==r?void 0:r.contents,t);await this.handleExternalService(e,a)}else{if((0,M.Jy)({abTestingPopulation:s,isKids:d,offerLocation:_,pageURL:m,platform:"DOWNLOADTOGO",segType:p,themeColor:C.t.Dark,tracking:{...u,...v},version:h}),!(0,k.C)())return;window.waitForPassToken((e=>this.createUrl(t,n,e,o))),(0,L.L)((0,E.b)().DOWNLOADTOGO.BUNDLE,{done:()=>this.initUVII(a)})}})),(0,w.Z)(this,"createUrl",((e,t,n,o)=>{if(!e)return;const{microEligibility:i,subscriberId:a,updateDownloadContentUrl:s}=this.props,l=(0,O.Yu)(),r=l?`&passid=${l}`:"",c=o?"&isTVoD=true":"";s(`mycanal://${(0,T.ly)(t)?"hapiId":"id"}=${encodeURIComponent(e)}${r}${c}&passtoken=${encodeURIComponent(n)}&microeligibility=${encodeURIComponent((0,A.$8)(i))}&subscriberId=${encodeURIComponent(a)}`)})),(0,w.Z)(this,"initUVII",(e=>{UVII&&(UVII.host="https://uvii.ucaya.com:38001",UVII.waitForAppInstalled(this.appDesktopFound,(()=>this.appDesktopNotFound(e))))})),(0,w.Z)(this,"appDesktopFound",(()=>{const{closeModal:e,downloadContentUrl:t}=this.props,{scriptDetected:n}=this.state;return n||(this.setState({scriptDetected:!0}),e()),UVII.launchDeeplink(t)})),(0,w.Z)(this,"appDesktopNotFound",(e=>{const{setDisplayMode:t,openModal:n}=this.props,{scriptDetected:o}=this.state,i=(0,b.C5)(y.U),a=(0,b.Q5)()&&i?I.Q.DOWNLOAD_TO_GO_MAC_OS_MODAL:I.Q.DOWNLOAD_TO_GO_MODAL;t(R.d.MODAL),n(a,e?{closeAction:()=>{e(a)}}:void 0),o&&this.setState({scriptDetected:!1})})),this.state={scriptDetected:!1}}render(){return g.createElement(e,(0,h.Z)({},this.props,{onClick:this.onClick,downloadContentUrl:this.props.downloadContentUrl,downloadToGoAppUrl:this.props.downloadToGoAppUrl}))}},(0,w.Z)(t,"defaultProps",{checkActivationStatusService:()=>{},downloadContentUrl:"",downloadToGoAppUrl:"",externalServiceActivationStatus:!1,isFeatExternalServices:!1,launchExternalServiceAction:()=>{},passToken:"",subscriberId:-1,tracking:{}}),t}))},83918:(e,t,n)=>{n.d(t,{Q:()=>o,t:()=>i});const o="HAPI",i="deeplink"},10609:(e,t,n)=>{n.d(t,{U:()=>o,p:()=>i});const o="10.15.0",i="10.15.4"},15297:(e,t,n)=>{n.d(t,{i:()=>d});var o=n(80561),i=n(64176),a=n(99854),s=n(97414),l=n(5255),r=n(42757),c=n(47500);const d=()=>async(e,t)=>{try{var n;const a=t();if(!(0,i.eK)(a))return;const d=await(0,o.B)(),_=(0,i.N_)(a),m=(0,l.y9)(a),p=(0,i.Bp)(a),u=(0,l.h7)(a),v=(0,i.V6)(a),h=(0,l.Oo)(a),w=await(0,c.f)({appKey:_,fullLocale:p,passToken:d,profileId:u,offerZone:m,requestId:v,profilesUpdateDate:h}),R=null==w||null===(n=w.userDetails)||void 0===n?void 0:n.externalServices;if(!R.length)return!0;e((0,r.lU)(R));const g=(0,s.m8)(a),D=R.find((e=>e.tvPackID===g));return(null==D?void 0:D.activationStatus)||!1}catch(e){return a.ZP.error(`checkActivation::checkActivationStatus() - Error occurs during initExternalServices ${e}`),!1}}},34434:(e,t,n)=>{n.d(t,{Z:()=>s});var o,i=n(7896),a=n(2784);const s=e=>{let{title:t,titleId:n,...s}=e;return a.createElement("svg",(0,i.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 27 26","aria-labelledby":n},s),t?a.createElement("title",{id:n},t):null,o||(o=a.createElement("path",{d:"M13.552 5a8 8 0 1 1 0 16 8 8 0 0 1 0-16zm1.107 8.435h-2.215a.32.32 0 0 0-.32.32v3.924a.32.32 0 0 0 .32.321h2.215a.32.32 0 0 0 .321-.32v-3.924a.32.32 0 0 0-.32-.321zM13.552 8c-1.105 0-2 .876-2 1.957 0 1.08.895 1.956 2 1.956 1.104 0 2-.876 2-1.956 0-1.081-.896-1.957-2-1.957z"})))}}}]);
//# sourceMappingURL=4718.bcf7cc957fccccf2a978.js.map